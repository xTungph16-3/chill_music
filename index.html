<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Add these styles to your existing CSS or in a <style> tag */
        .subscribe-section {
            background-color: #e6eef5;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        .subscribe-section img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 10px;
        }
        .subscribe-section h2 {
            margin: 10px 0;
            color: #1a2a3a;
        }
        .subscribe-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .subscribe-buttons a {
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            color: #1a2a3a;
            background-color: #ffffff;
        }
        .subscribe-buttons a:last-child {
            background-color: #1a2a3a;
            color: #ffffff;
        }
        .snow {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }
    </style>
</head>

<body class="Border" onLoad="onCreate()">
    <div class="BlurWebs">
        <div class="top-bar">
            <div id="fps" class="fps-counter">60.0 FPS</div>
        </div>
        <div class="wrapper">
            <div class="img-area">
                <img src="" alt="">    
            </div>
            <!-- Canvas for visualizer -->
            <canvas id="visualizer"></canvas>
            <div class="top-bar">
                <i class="material-icons">expand_more</i>
                <i class="material-icons" id="more-options">more_horiz</i>
            </div>

            <div class="song-details">
                <p class="name"></p>
                <p class="artist"></p>
            </div>

            <div class="progress-area">
                <div class="progress-bar">
                    <audio src="" id="main-audio"></audio>
                </div>
                <div class="song-timer">
                    <span class="current-time">
                    0:00
                </span>
                    <span class="max-duration">
                    0:00
                </span>
                </div>
            </div>

            <div class="controls">
                <i id="repeat-plist" class="material-icons" title="Playlist looped">repeat</i>
                <i id="prev" class="material-icons">skip_previous</i>
                <div class="play-pause">
                    <i class="material-icons play">play_arrow</i>
                </div>
                <i id="next" class="material-icons">skip_next</i>
                <i id="more-music" class="material-icons">queue_music</i>
            </div>

            <div class="volume-controls">
                <i id="volume-icon" class="fas fa-volume-up"></i>
                <label for="volume-slider" class="sr-only">Adjust volume</label>
                <input type="range" id="volume-slider" min="0" max="100" value="100" title="Volume slider">
            </div>

            <div class="music-list">
                <div class="header">
                    <div class="row">
                        <i class="list material-icons">queue_music</i>
                        <span>Music List</span>
                    </div>
                    <i id="close" class="material-icons">close</i>
                </div>
                <ul>
                    <p class="rainbow" class="copyright">Created by
                        <a style="text-decoration: none;" class="copyright" href="https://www.facebook.com/Tungcode.Developer">
                            <font class="rainbow" color="white"> XuanTung</font>
                        </a>
                        <br> <strong>All rights reserved - © 2023 </strong></p>
                    </footer>
            </div>
            <div id="Toast">(Welcome to the website Trịnh Xuân Tùng :)</div>
            <div id="options-modal" class="modal">
                <div class="modal-content">
                    <h3>Options</h3>
                    <ul>
                        <li id="change-theme">Change Theme</li>
                        <li id="about">About</li>
                        <li id="close-modal">Close</li>
                    </ul>
                    <div id="color-picker" style="display: none;">
                        <h4>Choose a color:</h4>
                        <button class="color-option" data-color="#1f1f27"></button>
                        <button class="color-option" data-color="#2c3e50"></button>
                        <button class="color-option" data-color="#27ae60"></button>
                        <button class="color-option" data-color="#c0392b"></button>
                        <button class="color-option" data-color="#8e44ad"></button>
                    </div>
                </div>
            </div>
            <script src="./js/music-list.js"></script>
            <script src="./js/script.js"></script>
            <div class="contact-link">
                <a href="contact.html" target="_blank" class="contact-button">
                    <i class="fas fa-envelope"></i> Liên hệ
                </a>
            </div>
        </div>

    </body>

    <script>
        // Thêm đoạn code này vào cuối file, trước thẻ đóng </body>
        document.querySelector('.contact-link a').addEventListener('click', function(e) {
            e.preventDefault();
            localStorage.setItem('playBackgroundMusic', 'true');
            window.location.href = this.href;
        });

        // Add this script to create the snow effect
        function createSnowflakes() {
            const snowContainer = document.querySelector('.snow');
            for (let i = 0; i < 50; i++) {
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                snowflake.style.left = `${Math.random() * 100}%`;
                snowflake.style.animationDuration = `${Math.random() * 3 + 2}s`;
                snowflake.style.opacity = Math.random();
                snowflake.innerHTML = '•';
                snowContainer.appendChild(snowflake);
            }
        }

        createSnowflakes();
    </script>

</html>
